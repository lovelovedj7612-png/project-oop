/* ==================== Reset & Base Styles ==================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #0a0e2e;
    min-height: 100vh;
    padding: 40px 20px;
    position: relative;
    overflow-x: hidden;
}

/* ==================== Grid Glowing Background ==================== */
body::before {
    content: '';
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-image:
        linear-gradient(rgba(79,172,254,0.2) 1px, transparent 1px),
        linear-gradient(90deg, rgba(79,172,254,0.2) 1px, transparent 1px);
    background-size: 60px 60px;
    animation: gridMove 20s linear infinite;
    z-index: -2;
}

body::after {
    content: '';
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background:
        radial-gradient(ellipse at 20% 20%, rgba(79,172,254,0.4) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 80%, rgba(125,249,255,0.35) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 50%, rgba(160,100,255,0.25) 0%, transparent 60%);
    animation: glowPulse 8s ease-in-out infinite;
    z-index: -1;
    pointer-events: none;
}

@keyframes gridMove {
    0% { background-position: 0 0; }
    100% { background-position: 60px 60px; }
}

@keyframes glowPulse {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 1; }
}

@keyframes backgroundGlow {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 1; }
}

/* ==================== Title Styles (NEW BUTTON) ==================== */
.title-wrapper {
    text-align: center;
    margin-bottom: 40px;
    position: relative;
    z-index: 10;
    animation: titleFloat 3s ease-in-out infinite;
}

@keyframes titleFloat {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
}

/* === Button component === */
.title-wrapper .button {
    margin: 0 !important;
    height: auto !important;
    background: transparent !important;
    padding: 0 !important;
    border: none !important;
    cursor: pointer !important;
    
    /* Button Styles */
    --border-right: 6px;
    --text-stroke-color: rgba(255,255,255,0.75);
    --animation-color: #7df9ff;
    --fs-size: 4em;
    
    letter-spacing: 4px !important;
    text-decoration: none !important;
    font-size: var(--fs-size) !important;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
    font-weight: 900 !important;
    position: relative !important;
    text-transform: none !important;
    color: transparent !important;
    -webkit-text-stroke: 2px var(--text-stroke-color) !important;
    filter: drop-shadow(0 4px 20px rgba(0, 200, 255, 0.5)) !important;
}

.title-wrapper .button .actual-text {
    display: inline !important;
    position: relative !important;
    z-index: 1;
}

.title-wrapper .button .hover-text {
    position: absolute !important;
    box-sizing: border-box !important;
    content: attr(data-text) !important;
    color: var(--animation-color) !important;
    width: 0% !important;
    inset: 0 !important;
    border-right: var(--border-right) solid var(--animation-color) !important;
    overflow: hidden !important;
    transition: width 0.5s ease, filter 0.5s ease !important;
    -webkit-text-stroke: 2px var(--animation-color) !important;
    white-space: nowrap !important;
    left: 0 !important;
    top: 0 !important;
}

.title-wrapper .button:hover .hover-text {
    width: 100% !important;
    filter: drop-shadow(0 0 23px var(--animation-color)) !important;
}

body.dark-mode .title-wrapper .button {
    --text-stroke-color: rgba(200, 220, 255, 0.7) !important;
    --animation-color: #a0c8ff !important;
}

/* ==================== Container ==================== */
.container {
    max-width: 1300px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(4, minmax(220px, 280px));
    gap: 30px;
    padding: 20px 30px 50px;
    position: relative;
    z-index: 1;
    justify-content: center;
}

/* ==================== 3D Card ==================== */
.card-parent {
    width: 100%;
    max-width: 280px;
    height: 360px;
    perspective: 1000px;
    animation: cardFadeIn 0.6s ease-out backwards;
    position: relative;
}

.card-parent:nth-child(1)  { animation-delay: 0.05s; }
.card-parent:nth-child(2)  { animation-delay: 0.10s; }
.card-parent:nth-child(3)  { animation-delay: 0.15s; }
.card-parent:nth-child(4)  { animation-delay: 0.20s; }
.card-parent:nth-child(5)  { animation-delay: 0.25s; }
.card-parent:nth-child(6)  { animation-delay: 0.30s; }
.card-parent:nth-child(7)  { animation-delay: 0.35s; }
.card-parent:nth-child(8)  { animation-delay: 0.40s; }
.card-parent:nth-child(9)  { animation-delay: 0.45s; }
.card-parent:nth-child(10) { animation-delay: 0.50s; }
.card-parent:nth-child(11) { animation-delay: 0.55s; }
.card-parent:nth-child(12) { animation-delay: 0.60s; }

.card-3d {
    width: 100%;
    height: 100%;
    border-radius: 40px;
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    transition: all 0.5s ease-in-out;
    transform-style: preserve-3d;
    box-shadow: rgba(0,100,200,0) 40px 50px 25px -40px, rgba(0,100,200,0.25) 0px 25px 25px -5px;
    position: relative;
    overflow: visible;
    cursor: default;
}

body.dark-mode .card-3d {
    background: linear-gradient(135deg, #1a4a7a 0%, #0a2a4a 100%);
}

.card-parent:hover .card-3d {
    transform: rotate3d(1, 1, 0, 25deg);
    box-shadow: rgba(0,100,200,0.35) 30px 50px 25px -40px, rgba(0,100,200,0.15) 0px 25px 30px 0px;
}

.card-glass {
    transform-style: preserve-3d;
    position: absolute;
    inset: 7px;
    border-radius: 44px;
    border-top-right-radius: 100%;
    background: linear-gradient(0deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0.82) 100%);
    transform: translate3d(0,0,20px);
    border-left: 1px solid white;
    border-bottom: 1px solid white;
    transition: all 0.5s ease-in-out;
    pointer-events: none;
}

body.dark-mode .card-glass {
    background: linear-gradient(0deg, rgba(30,60,100,0.5) 0%, rgba(60,100,160,0.7) 100%);
    border-left-color: rgba(100,160,255,0.3);
    border-bottom-color: rgba(100,160,255,0.3);
}

.card-logo {
    position: absolute;
    right: 0; top: 0;
    width: 100%; height: 100%;
    transform-style: preserve-3d;
    pointer-events: none;
    z-index: 1;
}

.card-circle {
    display: block;
    position: absolute;
    aspect-ratio: 1;
    border-radius: 50%;
    top: 0; right: 0;
    box-shadow: rgba(100,100,111,0.2) -10px 10px 20px 0px;
    backdrop-filter: blur(5px);
    background: rgba(79,172,254,0.18);
    transition: all 0.5s ease-in-out;
}

body.dark-mode .card-circle { background: rgba(30,80,160,0.3); }

.card-circle.c1 { width: 200px; transform: translate3d(0,0,15px); top: 7px; right: 7px; }
.card-circle.c2 { width: 165px; transform: translate3d(0,0,35px); top: 9px; right: 9px; backdrop-filter: blur(1px); transition-delay: 0.3s; }
.card-circle.c3 { width: 132px; transform: translate3d(0,0,55px); top: 14px; right: 14px; transition-delay: 0.6s; }
.card-circle.c4 { width: 100px; transform: translate3d(0,0,75px); top: 19px; right: 19px; transition-delay: 0.9s; }
.card-circle.c5 {
    width: 68px; transform: translate3d(0,0,95px);
    top: 24px; right: 24px;
    display: grid; place-content: center;
    transition-delay: 1.2s; overflow: hidden;
    pointer-events: auto; cursor: pointer;
    background: rgba(255,255,255,0.45);
}

.card-parent:hover .card-3d .card-circle.c2 { transform: translate3d(0,0,55px); }
.card-parent:hover .card-3d .card-circle.c3 { transform: translate3d(0,0,75px); }
.card-parent:hover .card-3d .card-circle.c4 { transform: translate3d(0,0,95px); }
.card-parent:hover .card-3d .card-circle.c5 { transform: translate3d(0,0,115px); }

.card-avatar {
    width: 100%; height: 100%;
    border-radius: 50%; overflow: hidden;
    display: grid; place-content: center;
    position: relative; cursor: pointer;
}

.card-avatar .profile-img {
    width: 100%; height: 100%;
    object-fit: cover; border-radius: 50%;
    position: absolute; inset: 0; z-index: 1;
}

.card-avatar .avatar-placeholder {
    font-size: 1.4em; position: relative; z-index: 0;
}

.card-content {
    position: relative;
    padding: 120px 70px 0 22px;
    transform: translate3d(0,0,22px);
    display: flex; flex-direction: column; gap: 5px;
    z-index: 2;
}

.card-name {
    display: block; color: #0a5a9c;
    font-weight: 900; font-size: 1.1em;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

body.dark-mode .card-name { color: #90c8ff; }

.card-id {
    display: block; color: rgba(10,90,156,0.8);
    font-size: 0.78em; font-weight: 700;
}

body.dark-mode .card-id { color: rgba(144,200,255,0.8); }

.card-info {
    display: block; color: rgba(10,90,156,0.7);
    font-size: 0.75em;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

body.dark-mode .card-info { color: rgba(144,200,255,0.7); }

.card-bottom {
    position: absolute;
    bottom: 14px; left: 14px; right: 14px;
    transform: translate3d(0,0,22px);
    background: rgba(255,255,255,0.55);
    border-radius: 16px; padding: 8px 12px;
    backdrop-filter: blur(4px);
    border: 1px solid rgba(255,255,255,0.7);
    transition: all 0.3s ease;
    z-index: 2;
}

body.dark-mode .card-bottom {
    background: rgba(20,50,100,0.5);
    border-color: rgba(100,160,255,0.2);
}

.card-detail-row {
    display: flex; justify-content: space-between;
    font-size: 0.72em; color: #0a5a9c;
    font-weight: 600; margin-bottom: 4px;
}

body.dark-mode .card-detail-row { color: #90c8ff; }

.card-email {
    font-size: 0.68em; color: rgba(10,90,156,0.75);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

body.dark-mode .card-email { color: rgba(144,200,255,0.75); }

.card-parent:hover .card-bottom {
    transform: translate3d(0,0,40px);
    box-shadow: 0 8px 20px rgba(0,100,200,0.2);
}

@keyframes cardFadeIn {
    from { opacity: 0; transform: translateY(30px); }
    to   { opacity: 1; transform: translateY(0); }
}

/* ==================== Image Zoom Modal ==================== */
.image-modal {
    display: none;
    position: fixed; z-index: 9999;
    left: 0; top: 0; width: 100%; height: 100%;
    background-color: rgba(0, 0, 0, 0.9);
    backdrop-filter: blur(10px);
    animation: fadeIn 0.3s ease;
}

.image-modal.active { display: flex; align-items: center; justify-content: center; }

.image-modal img {
    max-width: 90%; max-height: 90%;
    border-radius: 20px;
    box-shadow: 0 20px 60px rgba(79, 172, 254, 0.5);
    animation: zoomIn 0.3s ease;
}

.image-modal-close {
    position: absolute; top: 30px; right: 40px;
    font-size: 50px; color: white; cursor: pointer;
    transition: all 0.3s ease; z-index: 10000;
}

.image-modal-close:hover { transform: scale(1.2) rotate(90deg); color: #4facfe; }

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes zoomIn { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }

/* ==================== 3D Card Colors - Pastel Soft Tones ==================== */
.card-parent:nth-child(1)  .card-3d { background: linear-gradient(135deg, #B4D4FF 0%, #D5E8FF 100%); }
.card-parent:nth-child(2)  .card-3d { background: linear-gradient(135deg, #C1F2B0 0%, #E0F9D7 100%); }
.card-parent:nth-child(3)  .card-3d { background: linear-gradient(135deg, #FFD6EC 0%, #FFE5F1 100%); }
.card-parent:nth-child(4)  .card-3d { background: linear-gradient(135deg, #D4C5F9 0%, #E8DEFF 100%); }
.card-parent:nth-child(5)  .card-3d { background: linear-gradient(135deg, #FFE5B4 0%, #FFF4DC 100%); }
.card-parent:nth-child(6)  .card-3d { background: linear-gradient(135deg, #B5E7E3 0%, #D9F2F0 100%); }
.card-parent:nth-child(7)  .card-3d { background: linear-gradient(135deg, #FFCCE0 0%, #FFE0EB 100%); }
.card-parent:nth-child(8)  .card-3d { background: linear-gradient(135deg, #D1E9F6 0%, #E8F4FA 100%); }
.card-parent:nth-child(9)  .card-3d { background: linear-gradient(135deg, #FFEAA7 0%, #FFF5D4 100%); }
.card-parent:nth-child(10) .card-3d { background: linear-gradient(135deg, #DFD3FF 0%, #F0E9FF 100%); }
.card-parent:nth-child(11) .card-3d { background: linear-gradient(135deg, #FFB5C2 0%, #FFD6E0 100%); }
.card-parent:nth-child(12) .card-3d { background: linear-gradient(135deg, #A8E6CF 0%, #D0F4E6 100%); }

/* Card text color adjusts - ทุกการ์ดใช้สีเข้มอ่านง่าย */
.card-parent .card-name { color: #2c3e50; }
.card-parent .card-id { color: rgba(44, 62, 80, 0.8); }
.card-parent .card-info { color: rgba(44, 62, 80, 0.7); }
.card-parent .card-detail-row { color: #2c3e50; }
.card-parent .card-email { color: rgba(44, 62, 80, 0.75); }

/* Circle colors per card - โทนอ่อนตามการ์ด */
.card-parent:nth-child(1)  .card-circle { background: rgba(180, 212, 255, 0.3); }
.card-parent:nth-child(2)  .card-circle { background: rgba(193, 242, 176, 0.3); }
.card-parent:nth-child(3)  .card-circle { background: rgba(255, 214, 236, 0.3); }
.card-parent:nth-child(4)  .card-circle { background: rgba(212, 197, 249, 0.3); }
.card-parent:nth-child(5)  .card-circle { background: rgba(255, 229, 180, 0.3); }
.card-parent:nth-child(6)  .card-circle { background: rgba(181, 231, 227, 0.3); }
.card-parent:nth-child(7)  .card-circle { background: rgba(255, 204, 224, 0.3); }
.card-parent:nth-child(8)  .card-circle { background: rgba(209, 233, 246, 0.3); }
.card-parent:nth-child(9)  .card-circle { background: rgba(255, 234, 167, 0.3); }
.card-parent:nth-child(10) .card-circle { background: rgba(223, 211, 255, 0.3); }
.card-parent:nth-child(11) .card-circle { background: rgba(255, 181, 194, 0.3); }
.card-parent:nth-child(12) .card-circle { background: rgba(168, 230, 207, 0.3); }


body.dark-mode { background-color: #05071a; }

/* ==================== Theme Toggle ==================== */
.theme-toggle-wrapper { position: fixed; top: 20px; right: 20px; z-index: 1000; }

.theme-switch {
    --toggle-size: 15px;
    --container-width: 5.625em;
    --container-height: 2.5em;
    --container-radius: 6.25em;
    --container-light-bg: #3D7EAE;
    --container-night-bg: #1D1F2C;
    --circle-container-diameter: 3.375em;
    --sun-moon-diameter: 2.125em;
    --sun-bg: #ECCA2F;
    --moon-bg: #C4C9D1;
    --spot-color: #959DB1;
    --circle-container-offset: calc((var(--circle-container-diameter) - var(--container-height)) / 2 * -1);
    --stars-color: #fff;
    --clouds-color: #F3FDFF;
    --back-clouds-color: #AACADF;
    --transition: .5s cubic-bezier(0, -0.02, 0.4, 1.25);
    --circle-transition: .3s cubic-bezier(0, -0.02, 0.35, 1.17);
}

.theme-switch, .theme-switch *, .theme-switch *::before, .theme-switch *::after {
    box-sizing: border-box; margin: 0; padding: 0; font-size: var(--toggle-size);
}

.theme-switch__container {
    width: var(--container-width); height: var(--container-height);
    background-color: var(--container-light-bg);
    border-radius: var(--container-radius);
    overflow: hidden; cursor: pointer;
    box-shadow: 0em -0.062em 0.062em rgba(0,0,0,0.25), 0em 0.062em 0.125em rgba(255,255,255,0.94);
    transition: var(--transition); position: relative;
}

.theme-switch__container::before {
    content: ""; position: absolute; z-index: 1; inset: 0;
    box-shadow: 0em 0.05em 0.187em rgba(0,0,0,0.25) inset, 0em 0.05em 0.187em rgba(0,0,0,0.25) inset;
    border-radius: var(--container-radius);
}

.theme-switch__checkbox { display: none; }

.theme-switch__circle-container {
    width: var(--circle-container-diameter); height: var(--circle-container-diameter);
    background-color: rgba(255,255,255,0.1);
    position: absolute; left: var(--circle-container-offset); top: var(--circle-container-offset);
    border-radius: var(--container-radius);
    box-shadow: inset 0 0 0 3.375em rgba(255,255,255,0.1), inset 0 0 0 3.375em rgba(255,255,255,0.1),
                0 0 0 0.625em rgba(255,255,255,0.1), 0 0 0 1.25em rgba(255,255,255,0.1);
    display: flex; transition: var(--circle-transition); pointer-events: none;
}

.theme-switch__sun-moon-container {
    pointer-events: auto; position: relative; z-index: 2;
    width: var(--sun-moon-diameter); height: var(--sun-moon-diameter);
    margin: auto; border-radius: var(--container-radius);
    background-color: var(--sun-bg);
    box-shadow: 0.062em 0.062em 0.062em 0em rgba(254,255,239,0.61) inset, 0em -0.062em 0.062em 0em #a1872a inset;
    filter: drop-shadow(0.062em 0.125em 0.125em rgba(0,0,0,0.25)) drop-shadow(0em 0.062em 0.125em rgba(0,0,0,0.25));
    overflow: hidden; transition: var(--transition);
}

.theme-switch__moon {
    transform: translateX(100%); width: 100%; height: 100%;
    background-color: var(--moon-bg); border-radius: inherit;
    box-shadow: 0.062em 0.062em 0.062em 0em rgba(254,255,239,0.61) inset, 0em -0.062em 0.062em 0em #969696 inset;
    transition: var(--transition); position: relative;
}

.theme-switch__spot {
    position: absolute; top: 0.75em; left: 0.312em;
    width: 0.75em; height: 0.75em;
    border-radius: var(--container-radius);
    background-color: var(--spot-color);
    box-shadow: 0em 0.0312em 0.062em rgba(0,0,0,0.25) inset;
}
.theme-switch__spot:nth-of-type(2) { width: 0.375em; height: 0.375em; top: 0.937em; left: 1.375em; }
.theme-switch__spot:nth-last-of-type(3) { width: 0.25em; height: 0.25em; top: 0.312em; left: 0.812em; }

.theme-switch__clouds {
    width: 1.25em; height: 1.25em;
    background-color: var(--clouds-color);
    border-radius: var(--container-radius);
    position: absolute; bottom: -0.625em; left: 0.312em;
    box-shadow: 0.937em 0.312em var(--clouds-color), -0.312em -0.312em var(--back-clouds-color),
                1.437em 0.375em var(--clouds-color), 0.5em -0.125em var(--back-clouds-color),
                2.187em 0 var(--clouds-color), 1.25em -0.062em var(--back-clouds-color),
                2.937em 0.312em var(--clouds-color), 2em -0.312em var(--back-clouds-color),
                3.625em -0.062em var(--clouds-color), 2.625em 0em var(--back-clouds-color),
                4.5em -0.312em var(--clouds-color), 3.375em -0.437em var(--back-clouds-color),
                4.625em -1.75em 0 0.437em var(--clouds-color), 4em -0.625em var(--back-clouds-color),
                4.125em -2.125em 0 0.437em var(--back-clouds-color);
    transition: 0.5s cubic-bezier(0, -0.02, 0.4, 1.25);
}

.theme-switch__stars-container {
    position: absolute; color: var(--stars-color);
    top: -100%; left: 0.312em;
    width: 2.75em; height: auto;
    transition: var(--transition);
}

.theme-switch__checkbox:checked + .theme-switch__container { background-color: var(--container-night-bg); }
.theme-switch__checkbox:checked + .theme-switch__container .theme-switch__circle-container { left: calc(100% - var(--circle-container-offset) - var(--circle-container-diameter)); }
.theme-switch__checkbox:checked + .theme-switch__container .theme-switch__circle-container:hover { left: calc(100% - var(--circle-container-offset) - var(--circle-container-diameter) - 0.187em); }
.theme-switch__circle-container:hover { left: calc(var(--circle-container-offset) + 0.187em); }
.theme-switch__checkbox:checked + .theme-switch__container .theme-switch__moon { transform: translate(0); }
.theme-switch__checkbox:checked + .theme-switch__container .theme-switch__clouds { bottom: -4.062em; }
.theme-switch__checkbox:checked + .theme-switch__container .theme-switch__stars-container { top: 50%; transform: translateY(-50%); }

/* (Rest of CSS continues...) */
/* ==================== Feedback & Rating Container ==================== */
.feedback-rating-container {
    max-width: 1200px;
    margin: 0 auto 50px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    padding: 20px;
}

.rating-section, .feedback-section {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 8px 32px rgba(31, 164, 254, 0.3);
    border: 2px solid rgba(255, 255, 255, 0.5);
}

body.dark-mode .rating-section,
body.dark-mode .feedback-section {
    background: rgba(30, 30, 45, 0.95);
    border-color: rgba(100, 150, 255, 0.3);
}

.section-title {
    text-align: center;
    color: #1a365d;
    font-size: 1.8em;
    font-weight: 700;
    margin-bottom: 25px;
}

body.dark-mode .section-title { color: #a0b0ff; }

/* ==================== Rating Stars ==================== */
.rating {
    display: flex; flex-direction: row-reverse;
    gap: 0.3rem; justify-content: center;
    margin-bottom: 20px;
    --stroke: #666; --fill: #ffc73a;
}

.rating input { appearance: unset; display: none; }
.rating label { cursor: pointer; }

.rating svg {
    width: 2rem; height: 2rem;
    overflow: visible; fill: transparent;
    stroke: var(--stroke); stroke-linejoin: bevel;
    stroke-dasharray: 12;
    animation: idle 4s linear infinite;
    transition: stroke 0.2s, fill 0.5s;
}

@keyframes idle { from { stroke-dashoffset: 24; } }
.rating label:hover svg { stroke: var(--fill); }

.rating input:checked ~ label svg {
    transition: 0s;
    animation: idle 4s linear infinite, yippee 0.75s backwards;
    fill: var(--fill); stroke: var(--fill);
    stroke-opacity: 0; stroke-dasharray: 0;
    stroke-linejoin: miter; stroke-width: 8px;
}

@keyframes yippee {
    0% { transform: scale(1); fill: var(--fill); fill-opacity: 0; stroke-opacity: 1; stroke: var(--stroke); stroke-dasharray: 10; stroke-width: 1px; stroke-linejoin: bevel; }
    30% { transform: scale(0); fill: var(--fill); fill-opacity: 0; stroke-opacity: 1; stroke: var(--stroke); stroke-dasharray: 10; stroke-width: 1px; stroke-linejoin: bevel; }
    30.1% { stroke: var(--fill); stroke-dasharray: 0; stroke-linejoin: miter; stroke-width: 8px; }
    60% { transform: scale(1.2); fill: var(--fill); }
}

.rating-result { text-align: center; font-size: 1.3em; color: #2d3748; font-weight: 600; }
body.dark-mode .rating-result { color: #d0d0e0; }
.rating-result span { color: #ffc73a; font-weight: 700; }

/* ==================== Rating Average Display ==================== */
.rating-average {
    text-align: center; padding: 20px; margin-bottom: 20px;
    background: linear-gradient(135deg, rgba(255, 199, 58, 0.1) 0%, rgba(255, 215, 0, 0.05) 100%);
    border-radius: 15px; border: 2px dashed #ffc73a;
}

.avg-score {
    font-size: 3.5em; font-weight: 700; color: #ffc73a;
    text-shadow: 0 2px 4px rgba(255, 199, 58, 0.3);
    animation: scoreGlow 2s ease-in-out infinite;
}

@keyframes scoreGlow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

.avg-stars { font-size: 1.8em; margin: 10px 0; letter-spacing: 5px; }
.avg-info { font-size: 1.1em; color: #64748b; font-weight: 600; }
body.dark-mode .avg-info { color: #a0b0ff; }
body.dark-mode .rating-average {
    background: linear-gradient(135deg, rgba(255, 199, 58, 0.15) 0%, rgba(255, 215, 0, 0.08) 100%);
    border-color: rgba(255, 199, 58, 0.5);
}

/* ==================== Name Entry Banner ==================== */
.name-entry-banner {
    max-width: 1200px;
    margin: 0 auto 25px;
    padding: 0 20px;
    position: relative;
    z-index: 5;
}

.name-entry-inner {
    background: rgba(255, 255, 255, 0.97);
    border-radius: 16px;
    padding: 20px 28px;
    box-shadow: 0 8px 32px rgba(31, 164, 254, 0.25);
    border: 2px solid rgba(79, 172, 254, 0.4);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 14px;
    text-align: center;
}

body.dark-mode .name-entry-inner {
    background: rgba(30, 30, 45, 0.97);
    border-color: rgba(100, 150, 255, 0.4);
}

.name-entry-label {
    font-size: 1.05em;
    font-weight: 600;
    color: #1a365d;
    transition: color 0.3s;
}

body.dark-mode .name-entry-label { color: #a0b0ff; }

.name-entry-row {
    display: flex;
    gap: 10px;
    align-items: center;
    width: 100%;
    max-width: 460px;
}

.rater-input-global {
    flex: 1;
    padding: 11px 16px;
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    font-size: 1em;
    font-family: inherit;
    outline: none;
    background: #f8fafc;
    color: #334155;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.rater-input-global:focus {
    border-color: #4facfe;
    box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.15);
}

body.dark-mode .rater-input-global {
    background: rgba(50, 50, 70, 0.7);
    border-color: rgba(100, 150, 255, 0.3);
    color: #d0d0e0;
}

body.dark-mode .rater-input-global::placeholder { color: #7080a0; }

.name-confirm-btn {
    padding: 11px 22px;
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    color: white;
    border: none;
    border-radius: 12px;
    font-size: 1em;
    font-weight: 700;
    font-family: inherit;
    cursor: pointer;
    white-space: nowrap;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(79, 172, 254, 0.35);
}

.name-confirm-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(79, 172, 254, 0.5);
}

.name-confirm-btn:active { transform: scale(0.96); }

.name-confirmed-text {
    font-size: 1em;
    color: #334155;
    font-weight: 500;
}

body.dark-mode .name-confirmed-text { color: #c0d0f0; }

@keyframes inputShake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-8px); }
    40% { transform: translateX(8px); }
    60% { transform: translateX(-5px); }
    80% { transform: translateX(5px); }
}

.input-shake {
    animation: inputShake 0.45s ease;
    border-color: #ef4444 !important;
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2) !important;
}

/* ==================== Lock Overlay ==================== */
.rating-wrapper, .feedback-input-wrapper {
    position: relative;
}

.locked-overlay {
    position: absolute;
    inset: 0;
    background: rgba(255, 255, 255, 0.75);
    backdrop-filter: blur(3px);
    border-radius: 12px;
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: not-allowed;
}

body.dark-mode .locked-overlay {
    background: rgba(20, 20, 35, 0.75);
}

.locked-overlay span {
    font-size: 0.95em;
    font-weight: 600;
    color: #64748b;
    background: rgba(255,255,255,0.9);
    padding: 10px 20px;
    border-radius: 10px;
    border: 1.5px dashed #cbd5e1;
    pointer-events: none;
}

body.dark-mode .locked-overlay span {
    background: rgba(30, 30, 50, 0.9);
    color: #8090b0;
    border-color: rgba(100, 150, 255, 0.3);
}

.feedback-input-wrapper {
    margin-bottom: 15px;
}

.feedback-input-wrapper .feedback-textarea {
    margin-bottom: 0;
}

/* ==================== Recent Raters Section ==================== */
.recent-raters-section {
    margin-top: 25px;
    padding-top: 20px;
    border-top: 2px solid #e2e8f0;
}

body.dark-mode .recent-raters-section { border-top-color: rgba(100, 150, 255, 0.2); }

.recent-raters-title {
    font-size: 1.1em;
    font-weight: 700;
    color: #1a365d;
    margin-bottom: 14px;
    text-align: center;
}

body.dark-mode .recent-raters-title { color: #a0b0ff; }

.no-raters {
    text-align: center;
    color: #94a3b8;
    font-style: italic;
    padding: 20px;
}

.rater-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 14px;
    margin-bottom: 8px;
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
    border-radius: 12px;
    border-left: 4px solid #ffc73a;
    transition: all 0.3s ease;
    animation: raterSlideIn 0.4s ease-out backwards;
}

.rater-item:nth-child(1) { animation-delay: 0.05s; }
.rater-item:nth-child(2) { animation-delay: 0.10s; }
.rater-item:nth-child(3) { animation-delay: 0.15s; }
.rater-item:nth-child(4) { animation-delay: 0.20s; }
.rater-item:nth-child(5) { animation-delay: 0.25s; }

@keyframes raterSlideIn {
    from { opacity: 0; transform: translateX(-15px); }
    to { opacity: 1; transform: translateX(0); }
}

.rater-item:hover {
    transform: translateX(5px);
    box-shadow: 0 4px 12px rgba(255, 199, 58, 0.2);
}

body.dark-mode .rater-item {
    background: linear-gradient(135deg, rgba(40, 40, 60, 0.8) 0%, rgba(50, 50, 70, 0.6) 100%);
    border-left-color: #f5c542;
}

.rater-rank { font-size: 1.3em; flex-shrink: 0; }

.rater-name {
    font-weight: 600;
    color: #334155;
    flex: 1;
    font-size: 0.95em;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

body.dark-mode .rater-name { color: #c0d0f0; }

.rater-stars {
    font-size: 0.85em;
    letter-spacing: 1px;
    flex-shrink: 0;
}

.rater-time {
    font-size: 0.75em;
    color: #94a3b8;
    flex-shrink: 0;
    white-space: nowrap;
}

body.dark-mode .rater-time { color: #7080a0; }

/* ==================== Reset Button ==================== */
.reset-section {
    margin-top: 20px;
    display: flex;
    justify-content: center;
}

.reset-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 11px 24px;
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    border: none;
    border-radius: 12px;
    font-size: 0.95em;
    font-weight: 600;
    font-family: inherit;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
}

.reset-btn svg {
    transition: transform 0.4s ease;
}

.reset-btn:hover {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(239, 68, 68, 0.45);
}

.reset-btn:hover svg { transform: rotate(-180deg); }
.reset-btn:active { transform: scale(0.96); }

/* ==================== Feedback Form ==================== */
.feedback-textarea {
    width: 100%; height: 120px;
    background: #f1f5f9; color: #475569;
    border: 2px solid #e2e8f0;
    border-radius: 12px; padding: 12px;
    font-family: inherit; resize: none; outline: none;
    margin-bottom: 15px;
}

.feedback-textarea:focus { border-color: #4facfe; }

body.dark-mode .feedback-textarea {
    background: rgba(50, 50, 70, 0.5); color: #d0d0e0;
    border-color: rgba(100, 150, 255, 0.3);
}

.feedback-actions {
    display: grid;
    grid-template-columns: auto auto 1fr auto;
    gap: 10px; margin-bottom: 25px;
}

.emoji-btn, .send-btn {
    background: #f1f5f9; border: 2px solid #e2e8f0;
    border-radius: 10px; cursor: pointer; transition: all 0.3s;
}

.emoji-btn {
    width: 45px; height: 45px;
    display: flex; align-items: center; justify-content: center;
    fill: #475569;
}

.send-btn {
    width: 80px; height: 45px;
    background: #4facfe; border-color: #4facfe;
    display: flex; align-items: center; justify-content: center;
    stroke: white;
}

.emoji-btn:hover { background: #4facfe; border-color: #4facfe; fill: white; }
.send-btn:hover { background: #3d8bd4; }

/* ==================== Feedback List ==================== */
.feedback-list {
    margin-top: 25px; padding-top: 20px;
    border-top: 2px solid #e2e8f0;
}

.feedback-list-title { color: #1a365d; font-size: 1.2em; font-weight: 600; margin-bottom: 15px; }
body.dark-mode .feedback-list-title { color: #a0b0ff; }

.feedback-item {
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
    border: 2px solid #e2e8f0; border-radius: 15px;
    padding: 18px; margin-bottom: 15px;
    position: relative; border-left: 4px solid #4facfe;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.feedback-item:hover {
    transform: translateY(-3px) translateX(5px);
    box-shadow: 0 8px 20px rgba(79, 172, 254, 0.25);
    border-left-width: 6px;
}

body.dark-mode .feedback-item {
    background: linear-gradient(135deg, rgba(40,40,60,0.8) 0%, rgba(50,50,70,0.6) 100%);
    border-color: rgba(100, 150, 255, 0.3); border-left-color: #6a8fff;
    box-shadow: 0 2px 12px rgba(100, 150, 255, 0.1);
}

.feedback-header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 12px; padding-bottom: 10px;
    border-bottom: 1px solid #e2e8f0;
}

.feedback-user { color: #4facfe; font-weight: 600; font-size: 1.05em; }
body.dark-mode .feedback-user { color: #6a8fff; }

.feedback-time {
    color: #94a3b8; font-size: 0.85em;
    padding: 4px 10px; background: rgba(148, 163, 184, 0.1); border-radius: 12px;
}

.feedback-text {
    color: #334155; line-height: 1.7; margin-bottom: 12px;
    padding: 10px; background: rgba(255,255,255,0.5); border-radius: 8px;
}

body.dark-mode .feedback-text { color: #d0d0e0; background: rgba(255,255,255,0.05); }

.delete-feedback-btn {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white; border: none; border-radius: 8px;
    padding: 8px 16px; font-size: 0.9em; font-weight: 600;
    cursor: pointer; transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
}

.delete-feedback-btn:hover {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    transform: scale(1.05); box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
}

.no-feedback { text-align: center; color: #94a3b8; padding: 40px; font-style: italic; }

.success-message {
    position: fixed; top: 20px; left: 50%; transform: translateX(-50%) translateY(-80px);
    color: white; padding: 15px 30px;
    border-radius: 12px; font-weight: 600;
    z-index: 10000; opacity: 0;
    transition: all 0.3s ease;
    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    white-space: nowrap;
}

.success-message.show { opacity: 1; transform: translateX(-50%) translateY(0); }

html { scroll-behavior: smooth; }
::selection { background-color: #4facfe; color: white; }

/* ==================== Responsive ==================== */
@media (min-width: 1200px) { .container { grid-template-columns: repeat(4, minmax(220px, 280px)); } }
@media (min-width: 900px) and (max-width: 1199px) { .container { grid-template-columns: repeat(3, minmax(220px, 280px)); } }

@media (max-width: 1023px) {
    .feedback-rating-container { grid-template-columns: 1fr; }
}

@media (min-width: 600px) and (max-width: 899px) {
    .container { grid-template-columns: repeat(2, minmax(220px, 280px)); }
    body::after { font-size: 2em; opacity: 0.3; }
}

@media (max-width: 599px) {
    .button { --fs-size: 2em; }
    .container { grid-template-columns: repeat(2, minmax(150px, 220px)); gap: 16px; padding: 10px 15px 30px; }
    .card-parent { height: 280px; }
    .image-modal-close { top: 20px; right: 20px; font-size: 40px; }
    body::after { font-size: 1.5em; opacity: 0.25; word-spacing: 30px; letter-spacing: 15px; }
    .rating svg { width: 2rem; height: 2rem; }
    .section-title { font-size: 1.3em; }
    .rater-item { flex-wrap: wrap; }
    .rater-time { display: none; }
}

@media (max-width: 400px) {
    body { padding: 20px 10px; }
    .button { --fs-size: 1.7em; }
    .container { grid-template-columns: 1fr; }
    .card-parent { max-width: 280px; margin: 0 auto; }
    body::after { font-size: 1.3em; opacity: 0.2; }
}

/* ==================== Image Modal ==================== */
.image-modal {
    display: none;
    position: fixed; inset: 0; z-index: 9999;
    background: rgba(0,0,0,0.92);
    backdrop-filter: blur(12px);
    align-items: center; justify-content: center;
}
.image-modal img {
    max-width: 88%; max-height: 88%;
    border-radius: 20px;
    box-shadow: 0 0 60px rgba(79,172,254,0.5);
    animation: zoomIn 0.3s ease;
}
.image-modal-close {
    position: absolute; top: 24px; right: 32px;
    width: 48px; height: 48px;
    background: rgba(255,255,255,0.15);
    border: 2px solid rgba(255,255,255,0.4);
    border-radius: 50%;
    color: white; font-size: 1.4em;
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    transition: all 0.3s; z-index: 10000;
}
.image-modal-close:hover { background: #ef4444; border-color: #ef4444; transform: rotate(90deg) scale(1.1); }

/* ==================== Card Popup ==================== */
.card-popup-overlay {
    display: none;
    position: fixed; inset: 0; z-index: 9998;
    background: rgba(0,0,0,0.78);
    backdrop-filter: blur(10px);
    align-items: center; justify-content: center;
}
.card-popup-box {
    background: rgba(12,18,55,0.97);
    border: 1.5px solid rgba(79,172,254,0.45);
    border-radius: 28px; padding: 44px 36px 36px;
    width: 92%; max-width: 460px;
    box-shadow: 0 0 50px rgba(79,172,254,0.3);
    position: relative;
    animation: popupIn 0.35s cubic-bezier(0.34,1.56,0.64,1);
    display: flex; flex-direction: column; align-items: center; gap: 20px;
}
body:not(.dark-mode) .card-popup-box {
    background: rgba(255,255,255,0.98);
    border-color: rgba(79,172,254,0.4);
}
@keyframes popupIn {
    from { transform: scale(0.65) translateY(40px); opacity: 0; }
    to   { transform: scale(1) translateY(0); opacity: 1; }
}
.card-popup-close {
    position: absolute; top: 14px; right: 16px;
    width: 38px; height: 38px;
    background: rgba(255,255,255,0.1); border: 1.5px solid rgba(255,255,255,0.25);
    border-radius: 50%; color: #94a3b8; font-size: 1.2em;
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    transition: all 0.25s;
}
body:not(.dark-mode) .card-popup-close { background: rgba(0,0,0,0.06); border-color: rgba(0,0,0,0.15); color: #64748b; }
.card-popup-close:hover { background: #ef4444; border-color: #ef4444; color: white; transform: rotate(90deg); }

.card-popup-avatar {
    width: 120px; height: 120px; border-radius: 50%;
    overflow: hidden; border: 4px solid rgba(79,172,254,0.7);
    box-shadow: 0 0 24px rgba(79,172,254,0.45);
    display: flex; align-items: center; justify-content: center;
    background: rgba(79,172,254,0.12);
}
.card-popup-avatar img { width:100%; height:100%; object-fit:cover; }
.card-popup-info { width: 100%; }
.card-popup-info h2 {
    text-align: center; font-size: 1.5em; font-weight: 800;
    color: #4facfe; margin-bottom: 16px;
}
body:not(.dark-mode) .card-popup-info h2 { color: #1a6fc4; }
.popup-row {
    display: flex; justify-content: space-between; align-items: center;
    padding: 10px 14px; margin-bottom: 7px;
    background: rgba(79,172,254,0.08); border-radius: 10px;
    border-left: 3px solid rgba(79,172,254,0.5); font-size: 0.92em; gap: 10px;
}
body:not(.dark-mode) .popup-row { background: rgba(79,172,254,0.07); }
.popup-label { color: #4facfe; font-weight: 700; white-space: nowrap; flex-shrink: 0; }
body:not(.dark-mode) .popup-label { color: #1a6fc4; }
.popup-row span:last-child { color: #e2e8f0; text-align: right; word-break: break-all; }
body:not(.dark-mode) .popup-row span:last-child { color: #334155; }

.card-parent { cursor: pointer; }

@keyframes zoomIn { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }

/* ==================== รูปใหญ่ Modal ==================== */
.img-modal {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 9999;
    background: rgba(0,0,0,0.92);
    backdrop-filter: blur(10px);
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.25s ease;
}

.img-modal img {
    max-width: 88vw;
    max-height: 88vh;
    border-radius: 18px;
    box-shadow: 0 0 60px rgba(79,172,254,0.5);
    animation: zoomIn 0.3s cubic-bezier(0.34,1.56,0.64,1);
    object-fit: contain;
}

.img-modal-close {
    position: absolute;
    top: 20px; right: 28px;
    width: 44px; height: 44px;
    background: rgba(255,255,255,0.15);
    border: 2px solid rgba(255,255,255,0.4);
    border-radius: 50%;
    color: white;
    font-size: 1.3em;
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.25s ease;
    z-index: 10000;
    line-height: 1;
}

.img-modal-close:hover {
    background: #ef4444;
    border-color: #ef4444;
    transform: rotate(90deg) scale(1.1);
}

/* ==================== Dark Mode สำหรับ body พื้นหลัง ==================== */
body.dark-mode {
    background-color: #05071a !important;
}

body.dark-mode::before {
    background-image:
        linear-gradient(rgba(100,150,255,0.15) 1px, transparent 1px),
        linear-gradient(90deg, rgba(100,150,255,0.15) 1px, transparent 1px) !important;
    background-size: 60px 60px;
}

body.dark-mode::after {
    background:
        radial-gradient(ellipse at 20% 20%, rgba(60,100,200,0.4) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 80%, rgba(80,60,200,0.3) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 50%, rgba(100,60,180,0.2) 0%, transparent 60%) !important;
}

/* card-parent cursor */
.card-parent {
    cursor: pointer;
}

@keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
@keyframes zoomIn { from { transform:scale(0.6); opacity:0; } to { transform:scale(1); opacity:1; } }